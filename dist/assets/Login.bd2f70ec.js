var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{_ as l}from"./NavBar.cc4d1581.js";import{i,p as m,C as d,T as p,r as u,o as c,e as b,f,w as v,z as g}from"./vendor.59df9684.js";import{a as y}from"./register.919b7aa3.js";import{s as w}from"./index.31d9e266.js";const j={name:"Login",components:{NavBar:l},setup(){const e=i(),l=m({email:"",password:""});return u=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(r)for(var t of r(a))s.call(a,t)&&n(e,t,a[t]);return e})({},d(l)),a(u,t({onSubmit:()=>{y(l).then((a=>{console.log(a),window.localStorage.setItem("token",a.access_token),w.commit("setIsLogin",!0),p.success("登陆成功！"),l.email="",l.password="",e.go(-1)}))}}));var u}},O=g("用户登陆"),h={style:{"margin-top":"50px"}},S={style:{"text-align":"center"}},V={style:{margin:"16px"}},x=g("提交");j.render=function(e,a,t,r,o,s){const n=u("nav-bar"),l=u("van-image"),i=u("van-field"),m=u("van-button"),d=u("van-form");return c(),b("div",null,[f(n,null,{default:v((()=>[O])),_:1}),f("div",h,[f("div",S,[f(l,{width:"10rem",height:"10rem",fit:"contain",src:"https://img01.yzcdn.cn/vant/cat.jpeg"}),f(d,{onSubmit:r.onSubmit},{default:v((()=>[f(i,{modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=a=>e.email=a),name:"邮箱",label:"邮箱",placeholder:"邮箱",rules:[{required:!0,message:"邮箱"}]},null,8,["modelValue"]),f(i,{modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.password=a),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),f("div",V,[f(m,{round:"",block:"",type:"primary","native-type":"submit"},{default:v((()=>[x])),_:1})])])),_:1},8,["onSubmit"])])])])};export default j;
